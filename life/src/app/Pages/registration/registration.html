<div class="container-fluid py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10 col-sm-12">
        <div class="card shadow border-0 rounded-4">
          <div class="card-body p-5">
            <div class="text-center mb-5">
              <h2 class="text-primary mb-0">Create Account</h2>
              <p class="text-muted">Join us today for exclusive benefits</p>
            </div>


            <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
              {{ errorMessage }}
            </div>

            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
              <div class="row">
                <div class="col-md-6 mb-4">
                  <label for="firstName" class="form-label">First Name</label>
                  <input type="text" class="form-control form-control-lg" id="firstName"
                         formControlName="firstName" placeholder="John">
                  <div *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid"
                       class="text-danger small mt-1">
                    <div *ngIf="registerForm.get('firstName')?.errors?.['required']">
                      First name is required
                    </div>
                    <div *ngIf="registerForm.get('firstName')?.errors?.['minlength']">
                      First name must be at least 2 characters
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4">
                  <label for="lastName" class="form-label">Last Name</label>
                  <input type="text" class="form-control form-control-lg" id="lastName"
                         formControlName="lastName" placeholder="Doe">
                  <div *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid"
                       class="text-danger small mt-1">
                    <div *ngIf="registerForm.get('lastName')?.errors?.['required']">
                      Last name is required
                    </div>
                    <div *ngIf="registerForm.get('lastName')?.errors?.['minlength']">
                      Last name must be at least 2 characters
                    </div>
                  </div>
                </div>
              </div>


              <div class="mb-4">
                <label for="identityNumber" class="form-label">Identity Number</label>
                <input type="text" class="form-control form-control-lg" id="identityNumber"
                       formControlName="identityNumber" placeholder="Enter your identity number">
                <div *ngIf="registerForm.get('identityNumber')?.touched && registerForm.get('identityNumber')?.invalid"
                     class="text-danger small mt-1">
                  <div *ngIf="registerForm.get('identityNumber')?.errors?.['required']">
                    Identity number is required
                  </div>
                  <div *ngIf="registerForm.get('identityNumber')?.errors?.['pattern']">
                    Identity number must be exactly 13 digits
                  </div>
                </div>
                <div class="identity-note mt-2">
                  <i class="bi bi-info-circle"></i> This could be your national ID, passport number, or other government-issued identification
                </div>
              </div>



              <div class="mb-4">
                <label for="regEmail" class="form-label">Email Address</label>
                <input type="email" class="form-control form-control-lg" id="regEmail"
                       formControlName="email" placeholder="name@example.com">
                <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid"
                     class="text-danger small mt-1">
                  <div *ngIf="registerForm.get('email')?.errors?.['required']">
                    Email is required
                  </div>
                  <div *ngIf="registerForm.get('email')?.errors?.['email']">
                    Please enter a valid email address
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-4">
                  <label for="regPassword" class="form-label">Password</label>
                  <input type="password" class="form-control form-control-lg" id="regPassword"
                         formControlName="password" placeholder="Create a password">
                  <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid"
                       class="text-danger small mt-1">
                    <div *ngIf="registerForm.get('password')?.errors?.['required']">
                      Password is required
                    </div>
                    <div *ngIf="registerForm.get('password')?.errors?.['minlength']">
                      Password must be at least 8 characters
                    </div>
                    <div *ngIf="registerForm.get('password')?.errors?.['passwordStrength']">
                      Password must include uppercase, lowercase, number, and special character
                    </div>
                  </div>
                </div>
                <div class="col-md-6 mb-4">
                  <label for="confirmPassword" class="form-label">Confirm Password</label>
                  <input type="password" class="form-control form-control-lg" id="confirmPassword"
                         formControlName="confirmPassword" placeholder="Confirm your password">
                  <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid"
                       class="text-danger small mt-1">
                    <div *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">
                      Please confirm your password
                    </div>
                    <div *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.valid">
                      Passwords do not match
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-check mb-4">
                <input type="checkbox" class="form-check-input" id="terms" formControlName="terms">
                <label class="form-check-label" for="terms">I agree to the <a href="#" class="text-primary">Terms & Conditions</a></label>
                <div *ngIf="registerForm.get('terms')?.touched && registerForm.get('terms')?.invalid"
                     class="text-danger small mt-1">
                  You must accept the terms and conditions
                </div>
              </div>

              <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary btn-lg rounded-pill" [disabled]="isLoading">
                  <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                  {{ isLoading ? 'Creating Account...' : 'Create Account' }}
                </button>
              </div>
            </form>

            <div class="text-center mt-4">
              <p class="text-muted">Already have an account? <a routerLink="/login" class="text-primary text-decoration-none">Sign in</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
